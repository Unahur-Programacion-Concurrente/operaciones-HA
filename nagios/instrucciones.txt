History (main server)
sudo vi /usr/local/nagios/etc/objects/appserver1.cfg
sudo vi /usr/local/nagios/etc/nagios.cfg
sudo /usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg
sudo vi /usr/local/nagios/etc/objects/commands.cfg
sudo /usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg
sudo systemctl restart nagios




sudo vi /usr/local/nagios/etc/objects/appserver1.cfg
Editar con los datos de appserverx.cfg
Guarda el archivo y asegúrate de que esté referenciado en tu archivo de configuración principal de Nagios (nagios.cfg):

sudo nano /usr/local/nagios/etc/nagios.cfg

Agrega la línea:
cfg_file=/usr/local/nagios/etc/objects/appserver1.cfg


Verifica la configuración:
sudo /usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg

Si todo está correcto, reinicia el servicio de Nagios:
sudo systemctl restart nagios


ERROR FIX:
El error que estás viendo se debe a que los comandos check_nrpe!check_cpu, check_nrpe!check_disk, check_nrpe!check_ping, y check_nrpe!check_mem no están definidos en tu archivo de configuración de Nagios, lo que impide que Nagios ejecute correctamente esos chequeos.

Definir el comando check_nrpe en Nagios:

Primero, asegúrate de que el comando check_nrpe esté definido correctamente en el archivo de configuración de comandos, normalmente ubicado en /usr/local/nagios/etc/objects/commands.cfg.

Abre o edita este archivo y añade la definición del comando check_nrpe:

define command {
    command_name    check_nrpe
    command_line    /usr/local/nagios/libexec/check_nrpe -H $HOSTADDRESS$ -c $ARG1$
}



